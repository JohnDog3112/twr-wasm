# This makefile builds pr.c, which I used to generate gcc printf output,  to determine how twr-crt should function
# tested with mingw32-make 

OUTDIR = out
TARGETFILE = pr.exe
TARGET = $(OUTDIR)/$(TARGETFILE)


LIBS = -lm
CC = gcc
CFLAGS = -g -Wall -Wextra -fdiagnostics-color=always -std=c17 -pedantic

.PHONY: default clean

default: $(TARGET)

OBJECTS =  $(OUTDIR)/pr.o
HEADERS = 

$(OUTDIR)/pr.o: pr.c $(HEADERS)
	$(CC) $(CFLAGS) -c $< -o $@

$(TARGET): $(OBJECTS)
	$(CC) $(OBJECTS) -Wall $(LIBS) -o $@

# Below only works on Windows
clean:
	rm -f $(OUTDIR)/pr.o
	rm -f $(OUTDIR)/$(TARGETFILE)