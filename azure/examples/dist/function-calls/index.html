<!doctype html><html><head><title>function-calls example</title><script type="module" src="/example/dist/helloworld/index.bc9ac2cd.js"></script><script type="importmap">
	{
		"imports": {
		"tiny-wasm-runtime": "../../lib-js/index.js",
		"whatkey": "../../lib-js/whatkey.js"
		}
	}
	</script></head><body> <div id="twr_iodiv" tabindex="0">Loading... <br></div> <script type="module">let t;var r=globalThis,e={},i={},o=r.parcelRequire94c2;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in i){var r=i[t];delete i[t];var o={id:t,exports:{}};return e[t]=o,r.call(o.exports,o,o.exports),o.exports}var n=Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,r){i[t]=r},r.parcelRequire94c2=o),(0,o.register)("dLCSt",function(t,r){t.exports=new URL("../test-file.fabefebd.txt",import.meta.url).toString()});var n=o("4mNsm");try{t=new n.twrWasmModule,document.getElementById("twr_iodiv").innerHTML="<br>",await t.loadWasm("./function-calls.wasm"),await t.callC(["twr_wasm_print_mem_debug_stats"]);let r=new Uint8Array(4);r[0]=99,r[1]=98,r[2]=97,r[3]=6;let e=new URL(o("dLCSt"));t.divLog("module type is twrWasmModule\n"),t.divLog("--- begin C call ---");let i=await t.callC(["function_calls","This is a string.",r.buffer,r.length,e]);if(t.divLog("--- end C call ---\n"),t.divLog("function_calls() returned: "+i),t.divLog("as string: ",t.getString(i)),"forty-two - if only it were that simple"!=t.getString(i))throw Error("42 error");i=await t.callC(["get_structu32"]),t.divLog("get_struct32() returned: "+i);let a=t.getU32Arr(i);if(t.divLog("three 32 bit ints are: ",a[0],a[1],a[2]),1!=a[0]||2e3!=a[1]||3!=a[2])throw Error("error");i=await t.callC(["get_structu8"]),t.divLog("get_struct8() returned: "+i);let l=t.getU8Arr(i);if(t.divLog("three 8 bit ints are: ",l[0],l[1],l[2]),100!=l[0]||101!=l[1]||102!=l[2])throw Error("error")}catch(r){throw t.divLog("unexpected exception"),r}</script> </body></html>