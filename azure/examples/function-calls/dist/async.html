<!doctype html><head><script type="module" src="/examples/function-calls/dist/index.15322f57.js"></script><title>function-calls example</title></head><body> <div id="twr_iodiv" tabindex="0">Loading... <br></div>  <script type="importmap">
		{
			"imports": {
			"tiny-wasm-runtime": "../../lib-js/index.js",
			"whatkey": "../../lib-js/whatkey.js"
			}
		}
	</script> <script type="module">var e=globalThis,t={},r={},i=e.parcelRequire94c2;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in r){var i=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,i.call(o.exports,o,o.exports),o.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},e.parcelRequire94c2=i),(0,i.register)("ecOAF",function(e,t){e.exports=new URL("test-file.fabefebd.txt",import.meta.url).toString()});var o=i("4mNsm");console.log("twrWasmModuleAsync");try{let e=new o.twrWasmModuleAsync;document.getElementById("twr_iodiv").innerHTML="<br>",await e.loadWasm("./function-calls-a.wasm"),await e.executeC(["twr_wasm_print_mem_debug_stats"]);let t=new Uint8Array(4);t[0]=99,t[1]=98,t[2]=97,t[3]=6;let r=new URL(i("ecOAF"));e.divLog("module type is twrWasmModuleAsync\n"),e.divLog("--- begin C call ---");let n=await e.executeC(["function_calls","This is a string.",t.buffer,t.length,r]);if(e.divLog("--- end C call ---\n"),e.divLog("function_calls() returned: "+n),e.divLog("as string: ",e.getString(n)),"fourty-two - if only it were that simple"!=e.getString(n))throw Error("error");n=await e.executeC(["get_structu32"]),e.divLog("get_struct32() returned: "+n);let a=e.getU32Arr(n);if(e.divLog("three 32 bit ints are: ",a[0],a[1],a[2]),1!=a[0]||2e3!=a[1]||3!=a[2])throw Error("error");n=await e.executeC(["get_structu8"]),e.divLog("get_struct8() returned: "+n);let l=e.getU8Arr(n);if(e.divLog("three 8 bit ints are: ",l[0],l[1],l[2]),100!=l[0]||101!=l[1]||102!=l[2])throw Error("error")}catch(e){throw amod.divLog("unexpected exception"),e}</script> </body>